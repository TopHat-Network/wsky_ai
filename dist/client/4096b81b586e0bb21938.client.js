(()=>{var e={979:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};const t=["a_m_m_fatlatin_01","a_m_m_socenlat_01","a_m_m_stlat_02","a_m_y_latino_01","a_m_y_stlat_01"],n="TAXI";RegisterCommand("taxi",(()=>e(this,void 0,void 0,(function*(){let e=0;const o=PlayerPedId();if(!o)return void errorMsg("Player not found");const[i,a,r]=GetEntityCoords(o,!0),s=GetFirstBlipInfoId(8);if(!s)return void errorMsg("No waypoint found");const[l,d]=GetBlipInfoIdCoord(s),c=GetHeightmapBottomZForPosition(l,d),[h,g]=yield generateVehicle(n,[l,d,c],GetEntityHeading(o),t[Math.floor(Math.random()*t.length)]),u=GetVehicleModelNumberOfSeats(n)-2;for(SetPedIntoVehicle(o,h,u),TaskVehicleDriveToCoordLongrange(g,h,l,d,c,22,787245,0);!hasVehicleArrivedAtDestination(h,[l,d,c])&&IsPedSittingInVehicle(o,h)&&IsPedSittingInVehicle(g,h);){const t=Math.max(11,GetEntitySpeed(h)),[n,o,i]=GetEntityCoords(h,!0),a=CalculateTravelDistanceBetweenPoints(l,d,c,n,o,i),r=a/t;e=r/60,console.log({vehicleSpeed:t,distanceRemaining:a,timeRemainingInSeconds:r,estimatedArrivalInMinutes:e}),yield Delay(500)}if(!IsPedSittingInVehicle(o,h))return infoMsg("Journey ended early - you left the vehicle"),SetVehicleAsNoLongerNeeded(h),void SetPedAsNoLongerNeeded(g);const _=getLocationFromCoords(l,d,c);successMsg(`You have arrived at ${_}.`),console.log("parking vehicle");const y=GetEntityHeading(h);for(TaskVehiclePark(g,h,l,d,c,y,0,20,!0);!IsVehicleStopped(h);)yield Delay(50);for(console.log("Player leaving vehicle"),TaskLeaveVehicle(o,h,0);!IsPedSittingInVehicle(o,h);)yield Delay(500);console.log("Setting Vehicle and Driver as no longer needed"),SetVehicleAsNoLongerNeeded(h),SetPedAsNoLongerNeeded(g)}))),!1)},99:function(){this&&this.__awaiter,AddRelationshipGroup("WSKY_TAXI_DRIVER"),SetRelationshipBetweenGroups(0,GetHashKey("WSKY_TAXI_DRIVER"),GetHashKey("PLAYER")),SetRelationshipBetweenGroups(0,GetHashKey("PLAYER"),GetHashKey("WSKY_TAXI_DRIVER"))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n(99),n(979)})();