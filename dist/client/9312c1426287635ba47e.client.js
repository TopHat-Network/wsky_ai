(()=>{"use strict";var e={979:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var s=Object.getOwnPropertyDescriptor(t,o);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,s)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(99));RegisterCommand("taxi",(async()=>{console.log("step 1");const e=PlayerPedId();if(!e)return void i.errorMsg("Player not found");console.log("step 2");const[t,o,n]=GetEntityCoords(e,!0),s=GetFirstBlipInfoId(8);if(!s)return void i.errorMsg("No waypoint found");console.log("step 3");const[r,a]=GetBlipInfoIdCoord(s),l=GetHeightmapBottomZForPosition(r,a);console.log("step 4");const[c,u]=await i.generateVehicle("TAXI",[t,o,n],0,"a_m_m_fatlatin_01");console.log("step 5");const d=GetVehicleModelNumberOfSeats("TAXI")-2;SetPedIntoVehicle(e,c,d),TaskVehicleDriveToCoordLongrange(u,c,r,a,l,22,787245,0),console.log("step 6")}),!1)},99:(e,t)=>{async function o(e){new Promise((t=>setTimeout(t,e)))}function n(e,t){const[o,n,s]=e,[r,i,a]=t;return Math.sqrt(Math.pow(o-r,2)+Math.pow(n-i,2)+Math.pow(s-a,2))}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocationFromCoords=t.hasVehicleArrivedAtDestination=t.getDistance=t.generateVehicle=t.successMsg=t.infoMsg=t.errorMsg=t.Delay=void 0,t.Delay=o,t.errorMsg=function(e){emit("chat:addMessage",{args:["Error",e],color:[255,0,0]})},t.infoMsg=function(e){emit("chat:addMessage",{args:["Info",e],color:[0,255,255]})},t.successMsg=function(e){emit("chat:addMessage",{args:["Success",e],color:[0,255,0]})},AddRelationshipGroup("WSKY_TAXI_DRIVER"),SetRelationshipBetweenGroups(0,GetHashKey("WSKY_TAXI_DRIVER"),GetHashKey("PLAYER")),SetRelationshipBetweenGroups(0,GetHashKey("PLAYER"),GetHashKey("WSKY_TAXI_DRIVER")),t.generateVehicle=async function(e,t,n,s){console.log("step 1");const[r,i,a]=t;RequestModel(e),console.log("step 2");do{await o(500)}while(!HasModelLoaded(e));if(console.log("step 3"),s){RequestModel(s),console.log("step 3.1");do{await o(500)}while(!HasModelLoaded(s));console.log("step 3.2")}console.log("step 4");const l=CreateVehicle(GetHashKey(e),r,i,a,n||0,!0,!0);let c=null;return console.log("step 5"),s&&(console.log("step 5.1"),c=CreatePedInsideVehicle(l,4,s,-1,!0,!0),SetPedRelationshipGroupHash(c,GetHashKey("WSKY_TAXI_DRIVER")),TaskSetBlockingOfNonTemporaryEvents(c,!0),console.log("step 5.2")),c?[l,c]:[l]},t.getDistance=n,t.hasVehicleArrivedAtDestination=function(e,t){return n(GetEntityCoords(e,!0),t)<=30},t.getLocationFromCoords=function(e,t,o){const n=GetNameOfZone(e,t,o),s=n?GetLabelText(n):null,[r]=GetStreetNameAtCoord(e,t,o),i=GetStreetNameFromHashKey(r);let a="your destination";return i&&(a=i),i&&s?a=`${i}, ${s}`:s&&(a=s),a}}},t={};!function o(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}(979)})();